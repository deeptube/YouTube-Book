!function(e){var o={};function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)t.d(n,r,function(o){return e[o]}.bind(null,r));return n},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=0)}([function(e,o,t){"use strict";var n=this&&this.__awaiter||function(e,o,t,n){return new(t||(t=Promise))((function(r,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function l(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var o;e.done?r(e.value):(o=e.value,o instanceof t?o:new t((function(e){e(o)}))).then(a,l)}c((n=n.apply(e,o||[])).next())}))},r=this&&this.__generator||function(e,o){var t,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=o.call(e,a)}catch(e){i=[6,e],n=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};o.__esModule=!0;var i=t(1);$(document).ready((function(){console.log("url: "+window.location.href);var e="http://localhost:8080",o=1;function t(e){for(var o=1;o<2;o++)a(e,o)}function a(e,o){var t="#video-"+e+"-time-"+o,n=$(t).val(),r="#video-"+e+"-link-"+o;console.log("----"+t+": "+n);var i=function(e){var o=parseInt(e.substring(0,2));12==o&&(o=0);var t=parseInt(e.substring(3,5)),n=parseInt(e.substring(6,8));n||(n=0);return console.log(o+","+t+","+n),n+=60*t+3600*o,console.log("seconds: "+n),n}(n);console.log("--result seconds: "+i),function(e,o,t){$(o).click((function(){s[e].seekTo(t,!0)}))}(e,r,i)}function l(e){$("#video-"+e+"-add-bookmark").click((function(){c(e,2)}))}function c(e,o){a(e,o),o++;var t="#video-"+e+"-insert-before-me";console.log("add video bookmarkCnt: "+o),function(e,o,t){var n="video-"+t+"-time-"+o,r="video-"+t+"-bm-"+o,i='<button id="video-'+t+"-link-"+o+'" \n                        class="timestampBtn">hh:mm:ss</button>',a="#video-"+t+"-add-bookmark";$(a).remove(),$(e).before("\n            <div>\n                "+i+'\n                <input id="'+n+'" type=\'time\' class="without_ampm" step="1" value="00:00:00">   \n                <div>\n                    <textarea id="'+r+'" cols="35" placeholder="Bookmark notes"></textarea>\n                    <button type="button" id="video-1-add-bookmark" class="add-bookmark btn btn-primary">Add</button>\n                </div>  \n            </div>\n        '),$(a).click((function(){c(t,o)}))}(t,o,e)}function d(){$("#dialog-add-bookmark").click((function(){var e,t,n,r;o++,console.log("add dialog bookmarkCnt: "+o),e="#dialog-insert-before-me",n="dialog-time-"+(t=o),r="dialog-bm-"+t,$("#dialog-add-bookmark").remove(),$(e).before('\n            <div>\n                <label for="dialog-Bookmarks">hh:mm:ss </label> \n                <input id="'+n+'" type=\'time\' class="without_ampm" step="1">   \n                <div>\n                    <textarea id="'+r+'" cols="35" placeholder="Bookmark notes"></textarea>\n                    <button type="button" id="dialog-add-bookmark" class="add-bookmark btn btn-primary">Add</button>\n                </div>  \n            </div>\n        '),d()}))}function u(e){if(function(e){if(!e.match(/v=([^&]+)/))return!1;return!0}(e)){var o=function(e){var o=e.match(/v=([^&]+)/);return console.log(o),o[1]}(e);console.log(o),f(void 0,0,"player1",o,!1),$(".dialog-other").show()}else alert("Please enter a valid YouTube Video URL")}new i.default(1).sayHello(),function e(){"undefined"!=typeof YT&&YT&&YT.Player?function(){for(var e=1;e<4;e++){var o="video-"+e;console.log(o);var n=!1;3==e&&(n=!0),f(null,e,o,"XlvsJLer_No",n)}!function(){for(var e=1;e<4;e++)console.log("------initvideodata for video "+e),t(e),l(e),o=void 0,o="#video-"+e+"-submit-book",$(o).click((function(){alert("Book submitted")}));var o}()}():setTimeout(e,100)}(),$("#dialog-submit-book").click((function(){alert("Book submitted"),$("#dialog-add-video").dialog("close"),function(){var o=this;n(o,void 0,void 0,(function(){var o,t,n,i,a,l,c;return r(this,(function(r){switch(r.label){case 0:return console.log("----- In videoCreate -------"),o=$("#ytUrlInput").val(),t=function(){var e=$("#select-category").find(":selected").text().replace(" ","-");return e||(e=$("#dialog-category-input").val()),e}(),n=function(){var e=$("#select-label").find(":selected").text().replace(" ","-");return e||(e=$("#dialog-label-input").val()),e}(),i=function(e,o){for(var t=[],n=1;n<2;n++){e+=""+n,o+=""+n;var r=$(e).val(),i=$(o).val();e&&(t[n]={timestamp:r,timestampNotes:i})}return t}("dialog-time-","dialog-bm-"),a=$("#dialog-Notes").val(),console.log("urlinput: "+o+", category: "+t+", label: "+n+", notes: "+a),console.log(i),l=e+"/video/eric/create?category="+t+"&label="+n,console.log(l),[4,fetch(l)];case 1:return[4,r.sent().json()];case 2:return"error"!==(c=r.sent()).result?(console.log("Video created. Data: "+JSON.stringify(c)),document.getElementById("outputText").innerHTML="Success; video created. Data: "+JSON.stringify(c)):document.getElementById("outputText").innerHTML="Error; video not created.",[2]}}))}))}()})),$("#readTestBtn").click((function(){alert("Book read"),function(){var o=this;n(o,void 0,void 0,(function(){var o,t;return r(this,(function(n){switch(n.label){case 0:return console.log("videoRead called"),o=e+"/video/eric/read?category=someCategory&label=someLabel",console.log("videoRead: fetching "+o),[4,fetch(o)];case 1:return[4,n.sent().json()];case 2:return"error"!==(t=n.sent()).result?(console.log("Video read. Data: "+JSON.stringify(t)),document.getElementById("outputText").innerHTML="Success; video read. Data: "+JSON.stringify(t)):document.getElementById("outputText").innerHTML="Error; video not read.",[2]}}))}))}()})),$(".dialog-other").hide(),$("#ytUrlInput").bind("paste",(function(){var e;e=u,navigator.clipboard.readText().then(e)})),$("#delete-video").button({icons:{primary:"ui-icon-trash"},text:!1}),$("#delete-video").click((function(){alert("Book deleted"),function(){var e=this;n(e,void 0,void 0,(function(){var e;return r(this,(function(o){switch(o.label){case 0:return console.log("---- in videoDelete ----"),console.log("videoDelete: fetching someCategroy","NaNsomeLabel"),[4,fetch("http://localhost:8080/video/eric/delete?category=someCategroy&label=someLabel")];case 1:return[4,o.sent().json()];case 2:return"error"!==(e=o.sent()).result?(console.log("Video deleted. Data: "+JSON.stringify(e)),document.getElementById("outputText").innerHTML="Success; video deleted. Data: "+JSON.stringify(e)):document.getElementById("outputText").innerHTML="Error; video not deleted.",[2]}}))}))}()})),d();var s=[];function f(e,o,t,n,r){console.log("trigger youtube player"),null==e?(s[o]=new YT.Player(t,{width:1e3,height:800/1.5,videoId:n,events:{onReady:v(event,r)}}),console.log(s[o])):e=new YT.Player(t,{width:1e3,height:800/1.5,videoId:n,events:{onReady:v(event,r)}})}function v(e,o){o&&(console.log("trigger lastVideo onPlayerReady. Now can call accordion"),console.log("trigger initAccordion"),console.log("---- Video players ---"),console.log(s),$(".Label-Body").accordion({header:"> div > h3",active:!1,collapsible:!0,heightStyle:"content"}).sortable({axis:"y",handle:"h3",stop:function(e,o){o.item.children("h3").triggerHandler("focusout"),$(this).accordion("refresh")},update:function(){var e;e=$(".Label-Body").sortable("toArray"),console.log("new sortedIds: "+e)}}))}$("#dialog-add-video").dialog({autoOpen:!1,width:1200,height:800,resizable:!0}),$("#addVideoBtn").click((function(){$("#dialog-add-video").dialog("open")})),$("#dialog-edit-order").dialog({autoOpen:!1,width:800,height:600,resizable:!1}),$("#image-icon").click((function(){$("#dialog-edit-order").dialog("open")}))}))},function(e,o,t){"use strict";o.__esModule=!0;var n=function(){function e(e){this.videoNum=e,console.log("in video inserter: "+e)}return e.prototype.sayHello=function(){console.log("---hello!")},e}();o.default=n}]);